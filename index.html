<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>GHG - The Game Hacking Guide</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background-color: #0a0e14;
            font-family: 'Courier New', monospace;
            color: #00ff41;
            line-height: 1.6;
            min-height: 100vh;
        }
        header {
            background: linear-gradient(135deg, #1a1f2e 0%, #0f1419 100%);
            border-bottom: 2px solid #00ff41;
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 20px rgba(0, 255, 65, 0.1);
        }
        .header-content { max-width: 1200px; margin: 0 auto; display:flex; justify-content:space-between; align-items:center; }
        .logo-section h1 { color:#00ff41; font-size:1.8rem; font-weight:700; text-shadow:0 0 10px rgba(0,255,65,0.5); letter-spacing:2px;}
        .logo-section h1::before { content:"root@"; color:#ff0055; }
        .logo-section p { color: #6c7a89; font-size:0.9rem; margin-top:0.3rem; }
        nav { display:flex; gap:2rem; }
        nav a { color:#00ff41; text-decoration:none; padding:0.5rem 1rem; border:1px solid transparent; transition:all .3s ease; font-size:0.95rem; }
        nav a:hover { border:1px solid #00ff41; background:rgba(0,255,65,0.1); box-shadow:0 0 15px rgba(0,255,65,0.3); }

        /* Hero */
        .hero { max-width:1200px; margin:4rem auto; padding:0 2rem; text-align:center; }
        .hero h1 { font-size:3rem; color:#00ff41; text-shadow:0 0 20px rgba(0,255,65,0.6); margin-bottom:1rem; animation:glow 2s ease-in-out infinite alternate; }
        @keyframes glow { from { text-shadow:0 0 10px rgba(0,255,65,0.4);} to { text-shadow:0 0 20px rgba(0,255,65,0.8), 0 0 30px rgba(0,255,65,0.4);} }
        .hero p { font-size:1.2rem; color:#6c7a89; max-width:700px; margin:0 auto 2rem; }
        .hero-stats { display:flex; justify-content:center; gap:3rem; margin-top:3rem; flex-wrap:wrap; }
        .stat-box { background:#0f1419; border:1px solid #1a1f2e; border-radius:8px; padding:1.5rem 2rem; min-width:150px; transition:all .3s ease; }
        .stat-box:hover { border-color:#00ff41; box-shadow:0 0 20px rgba(0,255,65,0.2); transform:translateY(-5px); }
        .stat-box .number { font-size:2.5rem; color:#ff0055; font-weight:bold; display:block; }
        .stat-box .label { color:#6c7a89; font-size:0.9rem; margin-top:0.5rem; }

        /* Container + sections */
        .container { max-width:1200px; margin:3rem auto; padding:0 2rem; }
        .section-header { display:flex; align-items:center; margin-bottom:2rem; gap:1rem; }
        .section-header h2 { color:#00ff41; font-size:1.8rem; text-shadow:0 0 5px rgba(0,255,65,0.3); }
        .section-header::after { content:""; flex:1; height:2px; background:linear-gradient(to right,#00ff41,transparent); }

        /* Posts grid */
        .posts-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(350px,1fr)); gap:2rem; margin-bottom:4rem; }
        .post-card {
            background:#0f1419; border:1px solid #1a1f2e; border-radius:8px; padding:1.5rem; transition:all .3s ease; cursor:pointer;
            display:flex; flex-direction:column; justify-content:space-between;
        }
        .post-card:hover { border-color:#00ff41; box-shadow:0 8px 30px rgba(0,255,65,0.15); transform:translateY(-5px); }
        .post-card .category { display:inline-block; background:rgba(255,0,85,0.08); color:#ff0055; padding:0.25rem 0.6rem; border-radius:4px; font-size:0.85rem; margin-bottom:0.75rem; border:1px solid rgba(255,0,85,0.18); width:max-content; }
        .post-card h3 { color:#00ff41; font-size:1.25rem; margin-bottom:0.6rem; }
        .post-card .excerpt { color:#a0a0a0; font-size:0.95rem; line-height:1.6; margin-bottom:1rem; min-height:3.2em; }
        .post-card .meta { display:flex; justify-content:space-between; color:#6c7a89; font-size:0.85rem; padding-top:1rem; border-top:1px solid #1a1f2e; gap:1rem; align-items:center; }

        /* categories */
        .categories-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(250px,1fr)); gap:1.5rem; margin-bottom:2rem; }
        .category-card { background:#0f1419; border:1px solid #1a1f2e; border-radius:8px; padding:1.5rem; text-align:center; transition:all .3s ease; cursor:pointer; }
        .category-card:hover { border-color:#00d4ff; box-shadow:0 8px 30px rgba(0,212,255,0.15); transform:translateY(-5px); }
        .category-card .icon { font-size:2.5rem; margin-bottom:1rem; }
        .category-card h3 { color:#00d4ff; font-size:1.2rem; margin-bottom:0.5rem; }
        .category-card .count { color:#6c7a89; font-size:0.9rem; }

        /* info/warning boxes */
        .info-box { background:rgba(0,212,255,0.1); border-left:4px solid #00d4ff; padding:1.5rem; margin:2rem 0; border-radius:4px; }
        .info-box h3 { color:#00d4ff; margin-bottom:0.8rem; }
        .info-box p { color:#d4d4d4; line-height:1.8; }
        .warning-box { background:rgba(255,0,85,0.1); border-left:4px solid #ff0055; padding:1.5rem; margin:2rem 0; border-radius:4px; }
        .warning-box h3 { color:#ff0055; margin-bottom:0.8rem; }
        .warning-box p { color:#d4d4d4; line-height:1.8; }

        /* small helpers */
        .muted { color:#6c7a89; font-size:0.9rem; }
        .loading { color:#6c7a89; font-size:0.95rem; margin-top:1rem; text-align:center; }

        footer { background:#0f1419; border-top:2px solid #00ff41; padding:2rem; text-align:center; color:#6c7a89; margin-top:4rem; }
        footer a { color:#00d4ff; text-decoration:none; }
        footer a:hover { color:#00ff41; text-shadow:0 0 8px rgba(0,255,65,0.5); }

        @media (max-width:768px) {
            .header-content { flex-direction:column; gap:1rem; text-align:center; }
            nav { flex-direction:column; gap:0.5rem; }
            .hero h1 { font-size:2rem; }
            .hero-stats { flex-direction:column; gap:1rem; }
            .posts-grid, .categories-grid { grid-template-columns:1fr; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo-section">
                <h1>GHG</h1>
                <p>// THE Game Hacking Guide</p>
            </div>
            <nav>
                <a href="/">[ HOME ]</a>
                <a href="#posts">[ POSTS ]</a>
                <a href="#about">[ ABOUT ]</a>
                <a href="#tools">[ TOOLS ]</a>
            </nav>
        </div>
    </header>

    <div class="hero" id="about">
        <h1>Welcome to GHG</h1>
        <p>Your comprehensive guide to game hacking, modding, and reverse engineering.</p>
        <div class="hero-stats">
            <div class="stat-box"><span class="number">50+</span><span class="label">Tutorials</span></div>
            <div class="stat-box"><span class="number">15+</span><span class="label">Tools</span></div>
            <div class="stat-box"><span class="number">10+</span><span class="label">Categories</span></div>
        </div>
    </div>

    <div class="container">
        <div class="warning-box">
            <h3>‚ö† Important Legal Notice</h3>
            <p>This site is for educational purposes only. Game hacking techniques should only be used on games you own, in single-player mode, or with explicit permission. Unauthorized modification of online games or circumventing anti-cheat systems is illegal and violates terms of service. Always respect game developers and other players.</p>
        </div>

        <div class="section-header">
            <h2 id="posts">&gt;_ Browse by Category</h2>
        </div>

        <div class="categories-grid">
            <div class="category-card" data-slug="memory-hacking" onclick="window.location.href='/category/memory-hacking'">
                <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" viewBox="0 0 16 16"><path d="M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0m-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5z"/></svg></div>
                <h3>Memory Hacking</h3>
                <p class="count">0 posts</p>
            </div>
            <div class="category-card" data-slug="code-injection" onclick="window.location.href='/category/code-injection'">
                <div class="icon">üíâ</div><h3>Game CLI</h3><p class="count">0 posts</p>
            </div>
            <div class="category-card" data-slug="save-editing" onclick="window.location.href='/category/save-editing'">
                <div class="icon">üîç</div><h3>Save Editing</h3><p class="count">0 posts</p>
            </div>
            <div class="category-card" data-slug="game-engines" onclick="window.location.href='/category/game-engines'">
                <div class="icon">üéÆ</div><h3>Game Engines</h3><p class="count">0 posts</p>
            </div>
            <div class="category-card" data-slug="tools" onclick="window.location.href='/category/tools'">
                <div class="icon">üõ†Ô∏è</div><h3>Tools & Resources</h3><p class="count">0 posts</p>
            </div>
            <div class="category-card" data-slug="bypass-anti-cheat" onclick="window.location.href='/category/bypass-anti-cheat'">
                <div class="icon">üõ°Ô∏è</div><h3>Bypassing The Anti-Cheat</h3><p class="count">0 posts</p>
            </div>
        </div>

        <!-- Latest posts header -->
        <div class="section-header">
            <h2>&gt;_ Latest Posts</h2>
        </div>

        <!-- Placeholder grid; JS will populate this -->
        <div id="latest-posts" class="posts-grid">
            <div class="loading" id="posts-loading">Loading latest posts from sitemap.xml‚Ä¶</div>
        </div>

    </div>

    <footer>
        <p>¬© 2025 GHG - The Game Hacking Guide | Powered by <a href="https://github.com/StuffzEZ/DisBlog">DisBlog</a></p>
        <p style="margin-top:0.5rem; font-size:0.85rem;">For educational purposes only. Always obtain proper authorization.</p>
    </footer>

    <script>
    (function(){
        const POSTS_CONTAINER = document.getElementById('latest-posts');
        const LOADER = document.getElementById('posts-loading');
        const MAX_DISPLAY = 6; // how many latest posts to show
        const CATEGORY_SLUGS = ['memory-hacking','code-injection','save-editing','game-engines','tools','bypass-anti-cheat'];

        // ...existing code...

        async function fetchPostMeta(url){
            try {
                const res = await fetch(url, { credentials: 'same-origin' });
                if(!res.ok) throw new Error('non-ok');
                const text = await res.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(text, 'text/html');
                // prefer explicit post title in the post HTML (id="title-forpost" or .post-meta h1)
                const pageTitle = doc.querySelector('#title-forpost')?.textContent?.trim()
                    || doc.querySelector('.post-meta h1')?.textContent?.trim()
                    || doc.querySelector('meta[property="og:title"]')?.getAttribute('content')
                    || doc.querySelector('meta[name="title"]')?.getAttribute('content')
                    || doc.querySelector('title')?.textContent || null;
                const metaDesc = doc.querySelector('meta[property="og:description"]')?.getAttribute('content')
                    || doc.querySelector('meta[name="description"]')?.getAttribute('content') || null;
                let excerpt = metaDesc;
                if(!excerpt){
                    excerpt = doc.querySelector('article p')?.textContent?.trim()
                        || doc.querySelector('p')?.textContent?.trim() || '';
                }
                const bodyText = doc.body ? doc.body.textContent || '' : '';
                const readTime = estimateReadTime(bodyText);
                return { title: pageTitle, excerpt: excerpt, readTime };
            } catch (e) {
                return null;
            }
        }

        // main loader
        async function loadLatestFromSitemap(){
            try {
                const res = await fetch('sitemap.xml', { cache: 'no-store' });
                if(!res.ok) throw new Error('sitemap fetch failed: ' + res.status);
                const xmlText = await res.text();
                const entries = parseSitemap(xmlText);
                // update category counts based on known folder slugs
                (function updateCategoryCounts(){
                    const counts = Object.fromEntries(CATEGORY_SLUGS.map(s => [s, 0]));
                    entries.forEach(e => {
                        try {
                            const urlObj = new URL(e.loc, window.location.origin);
                            const postsPart = urlObj.pathname.split('/posts/')[1] || '';
                            const segments = postsPart.split('/').filter(Boolean);
                            for (const slug of CATEGORY_SLUGS) {
                                if (segments.includes(slug)) { counts[slug]++; break; }
                            }
                        } catch (_) {}
                    });
                    CATEGORY_SLUGS.forEach(slug => {
                        const el = document.querySelector('.category-card[data-slug="'+slug+'"]');
                        if (el) {
                            const countEl = el.querySelector('.count');
                            const n = counts[slug] || 0;
                            countEl.textContent = n + ' post' + (n === 1 ? '' : 's');
                        }
                    });
                })();

                if(entries.length === 0) {
                    LOADER.textContent = 'No posts found in sitemap.xml under /posts/.';
                    return;
                }

                // sort descending (latest first)
                enriched.sort((a,b) => b.sortKey - a.sortKey);

                // show top MAX_DISPLAY, gradually try to fetch metadata
                const top = enriched.slice(0, MAX_DISPLAY);

                // clear loader
                POSTS_CONTAINER.innerHTML = '';

                // for each, create a placeholder card and then attempt to fetch metadata to enhance
                for (const item of top) {
                    const prettyTitle = prettifySlug(item.filename);
                    const placeholder = buildCard({
                        href: item.loc,
                        category: item.category,
                        title: prettyTitle,
                        excerpt: 'Loading excerpt‚Ä¶',
                        readTime: null
                    });
                    POSTS_CONTAINER.appendChild(placeholder);

                    // try to fetch full meta (but don't break if it fails)
                    try {
                        const meta = await fetchPostMeta(item.loc);
                        const newTitle = (meta && meta.title) ? meta.title : prettyTitle;
                        const newExcerpt = (meta && meta.excerpt) ? meta.excerpt : '';
                        const newRead = (meta && meta.readTime) ? meta.readTime : null;
                        // replace placeholder with updated card
                        const updated = buildCard({
                            href: item.loc,
                            category: item.category,
                            title: newTitle,
                            excerpt: newExcerpt || 'No excerpt available.',
                            readTime: newRead
                        });
                        POSTS_CONTAINER.replaceChild(updated, placeholder);
                    } catch (e) {
                        // ignore per-post fetch errors
                        const fallbackCard = buildCard({
                            href: item.loc,
                            category: item.category,
                            title: prettyTitle,
                            excerpt: '',
                            readTime: null
                        });
                        POSTS_CONTAINER.replaceChild(fallbackCard, placeholder);
                    }
                }

            } catch (err) {
                console.warn(err);
                LOADER && (LOADER.textContent = 'Could not load sitemap.xml ‚Äî check it exists at /sitemap.xml and is accessible.');
            }
        }

        // kickoff
        loadLatestFromSitemap();

    })();
    </script>

</body>
</html>
